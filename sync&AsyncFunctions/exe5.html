<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <button onclick="test()">Go</button>
    <script>
        //V1
        // function start(){
        //     let colors = ['pink','lightgrey','lightblue','red','green','blue','yellow'];
        //     setInterval(() => {
        //         const randColor = Math.floor(Math.random()*arr.length);
        //         const doc = document.body;
        //         doc.style.backgroundColor = colors[randColor];
        //     }, 500);
        // }

        //V2 with promise 
        function start(){

            return new Promise( (resolve,reject)=>{
                setInterval(() => {
                    const colors = ['red','green','blue','yellow'];
                    const index = Math.floor(Math.random()*colors.length);
                    resolve(colors[index]);
                }, 500);                
            });
        }

        async function test(){
            try{
                const randColor = await start();
                document.body.style.backgroundColor = randColor;
            }
            catch(err){
                console.log(err.message);
            }
        }
    </script>
</body>
</html>